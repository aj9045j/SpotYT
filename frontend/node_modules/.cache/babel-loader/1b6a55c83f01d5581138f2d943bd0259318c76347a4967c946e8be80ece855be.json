{"ast":null,"code":"import React,{useEffect,useState}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";export default function GetPlaylist(props){const[code,setcode]=useState('');const handleauth=async event=>{fetch('http://localhost:5000/auth').then(response=>{if(response.ok){return response.json();// Parse the response body as JSON\n}else{throw new Error('Login failed');}}).then(data=>{window.location.href=data.authorizeURL;// Navigate to the home page\n}).catch(error=>{console.error('Error:',error);// Handle fetch error or login failure\n});};useEffect(()=>{const handleAuthorization=()=>{const urlParams=new URLSearchParams(window.location.search);setcode(urlParams.get('code'));};console.log(props.email);handleAuthorization();},[]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"buttonn\",onClick:handleauth,children:[/*#__PURE__*/_jsx(\"div\",{className:\"buttonn-top\",children:\"Verify Spotify\"}),/*#__PURE__*/_jsx(\"div\",{className:\"buttonn-bottom\"}),/*#__PURE__*/_jsx(\"div\",{className:\"buttonn-base\"})]}),/*#__PURE__*/_jsx(\"h1\",{children:\"Upload Spotify Playlist\"}),/*#__PURE__*/_jsxs(\"form\",{action:\"http://localhost:5000/search\",method:\"POST\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"url\",children:\"enter the spotify url\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Type something here....\",type:\"text\",name:\"url\",id:\"url\",className:\"input\"}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"code\",value:code}),/*#__PURE__*/_jsx(\"input\",{type:\"hidden\",name:\"email\",value:props.email}),/*#__PURE__*/_jsxs(\"button\",{type:\"submit\",className:\"buttonn\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"buttonn-top\",children:\"Submit\"}),/*#__PURE__*/_jsx(\"div\",{className:\"buttonn-bottom\"}),/*#__PURE__*/_jsx(\"div\",{className:\"buttonn-base\"})]})]})]});}","map":{"version":3,"names":["React","useEffect","useState","jsx","_jsx","jsxs","_jsxs","GetPlaylist","props","code","setcode","handleauth","event","fetch","then","response","ok","json","Error","data","window","location","href","authorizeURL","catch","error","console","handleAuthorization","urlParams","URLSearchParams","search","get","log","email","children","type","className","onClick","action","method","htmlFor","placeholder","name","id","value"],"sources":["/home/ajay/Desktop/spotyt/frontend/src/features/GetPlaylist.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\n\n\nexport default function GetPlaylist(props) {\n\n    const [code, setcode] = useState('');\n\n    const handleauth = async (event) => {\n        fetch('http://localhost:5000/auth').then(response => {\n            if (response.ok) {\n                return response.json(); // Parse the response body as JSON\n            } else {\n                throw new Error('Login failed');\n            }\n        })\n            .then(data => {\n\n\n                window.location.href = data.authorizeURL; // Navigate to the home page\n            })\n            .catch(error => {\n                console.error('Error:', error); // Handle fetch error or login failure\n            });\n\n    }\n\n\n    useEffect(() => {\n        const handleAuthorization = () => {\n\n            const urlParams = new URLSearchParams(window.location.search);\n            setcode(urlParams.get('code'));\n\n        }\n        console.log(props.email);\n        handleAuthorization();\n    }, []);\n\n    return (\n        <div>\n            <button type=\"button\" className='buttonn' onClick={handleauth}>\n                <div className=\"buttonn-top\">Verify Spotify</div>\n                <div className=\"buttonn-bottom\"></div>\n                <div className=\"buttonn-base\"></div>\n            </button>\n            <h1>Upload Spotify Playlist</h1>\n            <form action={`http://localhost:5000/search`} method='POST'>\n                <label htmlFor=\"url\">enter the spotify url</label>\n                <input\n                    placeholder=\"Type something here....\"\n                    type=\"text\"\n                    name=\"url\"\n                    id='url'\n                    className='input'\n                />\n                <input type=\"hidden\" name=\"code\" value={code} />\n                <input type=\"hidden\" name=\"email\" value={props.email} />\n                <button type=\"submit\" className='buttonn'>\n                    <div className=\"buttonn-top\">Submit</div>\n                    <div className=\"buttonn-bottom\"></div>\n                    <div className=\"buttonn-base\"></div>\n                </button>\n            </form>\n        </div>\n    )\n}\n\n\n\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}