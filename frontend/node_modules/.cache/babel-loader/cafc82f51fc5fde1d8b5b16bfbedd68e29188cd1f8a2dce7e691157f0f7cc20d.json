{"ast":null,"code":"import React,{useEffect,useState}from'react';import{Route,Navigate}from'react-router-dom';import Cookies from'js-cookie';import axios from'axios';import GetPlaylist from'../features/GetPlaylist';import ShowPlaylist from'../features/ShowPlaylist';import'../style/playlist.css';import Searchyt from'../features/Searchyt';import{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";export default function Extraxt(){const sessionId=Cookies.get('sessionId');const[user,setUser]=useState(null);const[isLoggedIn,setisLoggedIn]=useState(false);const[email,setemail]=useState('');useEffect(()=>{const fetchUserData=async()=>{if(sessionId){try{const response=await axios.get('https://spotyt.onrender.com//api/getuser',{params:{sessionId:sessionId}});setUser(response.data);setisLoggedIn(true);console.log(\"called\");}catch(error){console.log(error);}}};fetchUserData();},[]);useEffect(()=>{setemail((user===null||user===void 0?void 0:user.email)||'');},[user]);return/*#__PURE__*/_jsx(\"div\",{children:sessionId?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Welcome to SpotYT\"}),email!=''?/*#__PURE__*/_jsx(GetPlaylist,{email:email}):null,/*#__PURE__*/_jsx(\"h1\",{children:\"Search in YouTube\"}),/*#__PURE__*/_jsx(Searchyt,{}),/*#__PURE__*/_jsx(\"h1\",{children:\"Select the playlist\"}),/*#__PURE__*/_jsx(ShowPlaylist,{email:email})]}):/*#__PURE__*/_jsx(Navigate,{to:\"/login\"})});}","map":{"version":3,"names":["React","useEffect","useState","Route","Navigate","Cookies","axios","GetPlaylist","ShowPlaylist","Searchyt","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Extraxt","sessionId","get","user","setUser","isLoggedIn","setisLoggedIn","email","setemail","fetchUserData","response","params","data","console","log","error","children","to"],"sources":["/home/ajay/Desktop/spotyt/frontend/src/pages/Extraxt.js"],"sourcesContent":["import React, { useEffect, useState } from 'react'\nimport { Route, Navigate } from 'react-router-dom';\nimport Cookies from 'js-cookie';\nimport axios from 'axios';\nimport GetPlaylist from '../features/GetPlaylist';\nimport ShowPlaylist from '../features/ShowPlaylist';\nimport '../style/playlist.css';\nimport Searchyt from '../features/Searchyt';\n\nexport default function Extraxt() {\n\n\n    const sessionId = Cookies.get('sessionId');\n    const [user, setUser] = useState(null);\n    const [isLoggedIn, setisLoggedIn] = useState(false);\n    const [email, setemail] = useState('');\n\n    useEffect(() => {\n\n        const fetchUserData = async () => {\n\n            if (sessionId) {\n                try {\n                    const response = await axios.get('https://spotyt.onrender.com//api/getuser', {\n                        params: { sessionId: sessionId }\n                    });\n                    setUser(response.data);\n                    setisLoggedIn(true);\n                    console.log(\"called\");\n                } catch (error) {\n                    console.log(error);\n                }\n\n            }\n\n        }\n        fetchUserData();\n\n    }, [])\n\n    useEffect(() => {\n        setemail(user?.email || '');\n    }, [user])\n\n    return (\n        <div>\n            {sessionId ? (\n                <>\n\n                    <h1>Welcome to SpotYT</h1>\n                    {email != '' ? <GetPlaylist email={email} /> : null}\n\n                    <h1>Search in YouTube</h1>\n                    <Searchyt />\n                    <h1>Select the playlist</h1>\n                    <ShowPlaylist email={email} />\n\n\n\n                </>\n            ) : (\n                <Navigate to=\"/login\" />\n            )}\n        </div>\n    )\n}\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,KAAK,CAAEC,QAAQ,KAAQ,kBAAkB,CAClD,MAAO,CAAAC,OAAO,KAAM,WAAW,CAC/B,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,WAAW,KAAM,yBAAyB,CACjD,MAAO,CAAAC,YAAY,KAAM,0BAA0B,CACnD,MAAO,uBAAuB,CAC9B,MAAO,CAAAC,QAAQ,KAAM,sBAAsB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,QAAA,IAAAC,SAAA,CAAAC,IAAA,IAAAC,KAAA,yBAE5C,cAAe,SAAS,CAAAC,OAAOA,CAAA,CAAG,CAG9B,KAAM,CAAAC,SAAS,CAAGZ,OAAO,CAACa,GAAG,CAAC,WAAW,CAAC,CAC1C,KAAM,CAACC,IAAI,CAAEC,OAAO,CAAC,CAAGlB,QAAQ,CAAC,IAAI,CAAC,CACtC,KAAM,CAACmB,UAAU,CAAEC,aAAa,CAAC,CAAGpB,QAAQ,CAAC,KAAK,CAAC,CACnD,KAAM,CAACqB,KAAK,CAAEC,QAAQ,CAAC,CAAGtB,QAAQ,CAAC,EAAE,CAAC,CAEtCD,SAAS,CAAC,IAAM,CAEZ,KAAM,CAAAwB,aAAa,CAAG,KAAAA,CAAA,GAAY,CAE9B,GAAIR,SAAS,CAAE,CACX,GAAI,CACA,KAAM,CAAAS,QAAQ,CAAG,KAAM,CAAApB,KAAK,CAACY,GAAG,CAAC,0CAA0C,CAAE,CACzES,MAAM,CAAE,CAAEV,SAAS,CAAEA,SAAU,CACnC,CAAC,CAAC,CACFG,OAAO,CAACM,QAAQ,CAACE,IAAI,CAAC,CACtBN,aAAa,CAAC,IAAI,CAAC,CACnBO,OAAO,CAACC,GAAG,CAAC,QAAQ,CAAC,CACzB,CAAE,MAAOC,KAAK,CAAE,CACZF,OAAO,CAACC,GAAG,CAACC,KAAK,CAAC,CACtB,CAEJ,CAEJ,CAAC,CACDN,aAAa,CAAC,CAAC,CAEnB,CAAC,CAAE,EAAE,CAAC,CAENxB,SAAS,CAAC,IAAM,CACZuB,QAAQ,CAAC,CAAAL,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEI,KAAK,GAAI,EAAE,CAAC,CAC/B,CAAC,CAAE,CAACJ,IAAI,CAAC,CAAC,CAEV,mBACIR,IAAA,QAAAqB,QAAA,CACKf,SAAS,cACNF,KAAA,CAAAF,SAAA,EAAAmB,QAAA,eAEIrB,IAAA,OAAAqB,QAAA,CAAI,mBAAiB,CAAI,CAAC,CACzBT,KAAK,EAAI,EAAE,cAAGZ,IAAA,CAACJ,WAAW,EAACgB,KAAK,CAAEA,KAAM,CAAE,CAAC,CAAG,IAAI,cAEnDZ,IAAA,OAAAqB,QAAA,CAAI,mBAAiB,CAAI,CAAC,cAC1BrB,IAAA,CAACF,QAAQ,GAAE,CAAC,cACZE,IAAA,OAAAqB,QAAA,CAAI,qBAAmB,CAAI,CAAC,cAC5BrB,IAAA,CAACH,YAAY,EAACe,KAAK,CAAEA,KAAM,CAAE,CAAC,EAIhC,CAAC,cAEHZ,IAAA,CAACP,QAAQ,EAAC6B,EAAE,CAAC,QAAQ,CAAE,CAC1B,CACA,CAAC,CAEd","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}